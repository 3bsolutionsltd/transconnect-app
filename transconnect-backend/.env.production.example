# TransConnect Backend Production Environment Configuration

# Basic Configuration
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://your-frontend-domain.com

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/transconnect_production
DB_MAX_CONNECTIONS=20
DB_CONNECTION_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000
DB_ENABLE_LOGGING=true
DB_ENABLE_METRICS=true
DB_BACKUP_ENABLED=true
DB_MAINTENANCE_WINDOW=02:00-04:00

# Redis Configuration (Optional - for caching and session management)
REDIS_URL=redis://localhost:6379

# Production Database Features
ENABLE_PRODUCTION_FEATURES=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true
BACKUP_ENCRYPTION_KEY=your-256-bit-encryption-key-change-this-in-production
BACKUP_CLOUD_UPLOAD=false
BACKUP_NOTIFICATIONS=true

# Monitoring Configuration
MONITORING_ENABLED=true
MONITORING_INTERVAL=30000
MONITORING_RETENTION=7
MONITORING_LOG_LOCATION=./logs/monitoring

# Alert Thresholds
ALERT_CONNECTION_POOL_USAGE=80
ALERT_QUERY_DURATION=5000
ALERT_ERROR_RATE=5
ALERT_DISK_USAGE=85
ALERT_MEMORY_USAGE=85
ALERT_CPU_USAGE=80

# Alert Notifications
ALERT_EMAIL_ENABLED=false
ALERT_SLACK_ENABLED=false
ALERT_WEBHOOK_URL=
ALERT_ESCALATION_ENABLED=false

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-change-this-in-production
JWT_EXPIRES_IN=7d

# API Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100

# Payment Configuration
FLUTTERWAVE_PUBLIC_KEY=your_flutterwave_public_key
FLUTTERWAVE_SECRET_KEY=your_flutterwave_secret_key
FLUTTERWAVE_WEBHOOK_SECRET=your_flutterwave_webhook_secret
FLUTTERWAVE_ENVIRONMENT=live

# MTN Mobile Money
MTN_API_USER=your_mtn_api_user
MTN_API_KEY=your_mtn_api_key
MTN_SUBSCRIPTION_KEY=your_mtn_subscription_key
MTN_ENVIRONMENT=sandbox

# Airtel Money
AIRTEL_CLIENT_ID=your_airtel_client_id
AIRTEL_CLIENT_SECRET=your_airtel_client_secret
AIRTEL_ENVIRONMENT=live

# Firebase Configuration (for notifications)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY_ID=your_firebase_private_key_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_firebase_private_key\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_CLIENT_ID=your_firebase_client_id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token

# Email Configuration (for notifications and support)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM=TransConnect <noreply@transconnect.app>

# Google Maps (for route calculation and tracking)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# CORS Configuration
CORS_ORIGIN=https://your-frontend-domain.com,https://admin.transconnect.app

# Security Configuration
HELMET_CSP_ENABLED=true
TRUST_PROXY=true

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10mb
LOG_MAX_FILES=5

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# WebSocket Configuration
WS_CORS_ORIGIN=https://your-frontend-domain.com

# File Upload Configuration
MAX_FILE_SIZE=10mb
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# QR Code Configuration
QR_SECRET_KEY=your-qr-encryption-secret-change-this-in-production
QR_EXPIRY_HOURS=24

# Ride Sharing Configuration
RIDE_MATCHING_RADIUS_KM=5
RIDE_PRICE_PER_KM=150
RIDE_BASE_PRICE=500

# Bus Operator Configuration
OPERATOR_COMMISSION_RATE=0.05
MINIMUM_PAYOUT_AMOUNT=10000

# Transaction Configuration
CURRENCY=UGX
PAYMENT_TIMEOUT=300000
REFUND_WINDOW_HOURS=24

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_ITEMS=1000

# Session Configuration
SESSION_SECRET=your-session-secret-change-this-in-production
SESSION_MAX_AGE=86400000

# API Versioning
API_VERSION=v1
API_PREFIX=/api

# Development vs Production flags
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=false

# External Service URLs
PAYMENT_GATEWAY_URL=https://api.flutterwave.com/v3
MAP_SERVICE_URL=https://maps.googleapis.com/maps/api
NOTIFICATION_SERVICE_URL=https://fcm.googleapis.com/fcm

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=TransConnect is currently under maintenance. Please try again later.

# Feature Flags
ENABLE_RIDE_SHARING=true
ENABLE_NOTIFICATIONS=true
ENABLE_REAL_TIME_TRACKING=true
ENABLE_MOBILE_MONEY=true
ENABLE_QR_TICKETS=true
ENABLE_ADMIN_DASHBOARD=true

# Performance Configuration
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
GZIP_THRESHOLD=1024

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CONTENT_TYPE_NOSNIFF=true
FRAME_OPTIONS=DENY
XSS_PROTECTION=true

# Database Pool Configuration (PostgreSQL specific)
PGPOOL_MAX_CONNECTIONS=20
PGPOOL_IDLE_TIMEOUT=10000
PGPOOL_CONNECTION_TIMEOUT=2000

# Backup Storage Configuration (if using cloud storage)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=transconnect-backups

# Monitoring and Analytics
ANALYTICS_ENABLED=true
PERFORMANCE_MONITORING=true
ERROR_TRACKING=true

# Compliance and Legal
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=365
AUDIT_LOGGING=true